FVERSION=1,WebAssembly.instantiateStreaming=!1;const Audio_Dec_WASM_OK=1,Audio_Dec_Handle_OK=2,Audio_Dec_WebSocket_OK=3,Audio_Enc_WASM_OK=4,Audio_Enc_Handle_OK=5,Video_Dec_WASM_OK=7,Video_Dec_Handle_OK=8,Video_Dec_WebSocket_OK=9,Video_Enc_WASM_OK=10,Video_Enc_Handle_OK=11,Sharing_Dec_WASM_OK=12,Sharing_Dec_PICTURE=13,AUDIO_DELAY=14,Sharing_Dec_WebSocket_OK=15,Sharing_Handle_OK=16,Sharing_Data=17,Audio_Dec_WASM_FAILED=-1,Audio_Dec_Handle_FAILED=-2,Audio_Dec_WebSocket_FAILED=-3,Audio_Enc_WASM_FAILED=-4,Audio_Enc_Handle_FAILED=-5,Video_Dec_WASM_FAILED=-7,Video_Dec_Handle_FAILED=-8,Video_Dec_WebSocket_FAILED=-9,Video_Enc_WASM_FAILED=-10,Video_Enc_Handle_FAILED=-11,Sharing_Dec_WASM_FAILED=-12,Audio_Mute=-13,Sharing_Handle_FAILED=-14,Sharing_Dec_WebSocket_FAILED=-15;function instantiateCachedURL(e,n,t){function u(e,n){return fetch(e).then(e=>e.arrayBuffer())}return function(e){return new Promise(function(n,r){try{if(indexedDB){var s,i=FVERSION,o=void 0===IDBTransaction.READ_WRITE?"readwrite":IDBTransaction.READ_WRITE,a=indexedDB.open("SHARING_FILE",i);a.onerror=function(r){var i=indexedDB.deleteDatabase("SHARING_FILE");i.onerror=function(e){},i.onsuccess=function(e){},n(u(e).then(e=>WebAssembly.instantiate(e,t)))},a.onsuccess=function(r){var a=(s=r.target.result).transaction(["file"],o).objectStore("file").get("sharing");a.onsuccess=function(r){if(a.result){var i=r.target.result;n(WebAssembly.instantiate(i,t))}else n(u(e).then(e=>(s.transaction(["file"],o).objectStore("file").put(e,"sharing"),WebAssembly.instantiate(e,t))))},a.onerror=function(r){n(u(e).then(e=>WebAssembly.instantiate(e,t)))}},a.onupgradeneeded=function(e){!function(e){var n="file";e.objectStoreNames.contains(n)&&e.deleteObjectStore(n),e.createObjectStore(n)}(e.target.result)}}else n(u(e).then(e=>WebAssembly.instantiate(e,t)))}catch(r){n(u(e).then(e=>WebAssembly.instantiate(e,t)))}})}(n).then(e=>{!function(e){exports=e.exports,exports.memory&&mergeMemory(exports.memory),Module.asm=exports,Module.usingWasm=!0,removeRunDependency("wasm-instantiate")}(e.instance),Fetch_WASM_OK=!0,postMessage({status:Sharing_Dec_WASM_OK})}).catch(function(e){postMessage({status:Sharing_Dec_WASM_FAILED})})}var key,Module=void 0!==Module?Module:{},moduleOverrides={};for(key in Module)Module.hasOwnProperty(key)&&(moduleOverrides[key]=Module[key]);Module.arguments=[],Module.thisProgram="./this.program",Module.quit=function(e,n){throw n},Module.preRun=[],Module.postRun=[];var ENVIRONMENT_IS_WEB=!1,ENVIRONMENT_IS_WORKER=!1,ENVIRONMENT_IS_NODE=!1,ENVIRONMENT_IS_SHELL=!1;ENVIRONMENT_IS_WEB="object"==typeof window,ENVIRONMENT_IS_WORKER="function"==typeof importScripts,ENVIRONMENT_IS_NODE="object"==typeof process&&"function"==typeof require&&!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER,ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;var nodeFS,nodePath,scriptDirectory="";function locateFile(e){return Module.locateFile?Module.locateFile(e,scriptDirectory):scriptDirectory+e}if(ENVIRONMENT_IS_NODE)scriptDirectory=__dirname+"/",Module.read=function(n,t){var r;return nodeFS||(nodeFS=require("fs")),nodePath||(nodePath=require("path")),n=nodePath.normalize(n),r=nodeFS.readFileSync(n),t?r:r.toString()},Module.readBinary=function(n){var t=Module.read(n,!0);return t.buffer||(t=new Uint8Array(t)),assert(t.buffer),t},process.argv.length>1&&(Module.thisProgram=process.argv[1].replace(/\\/g,"/")),Module.arguments=process.argv.slice(2),"undefined"!=typeof module&&(module.exports=Module),process.on("uncaughtException",function(e){if(!(e instanceof ExitStatus))throw e}),process.on("unhandledRejection",function(e,n){process.exit(1)}),Module.quit=function(e){process.exit(e)},Module.inspect=function(){return"[Emscripten Module object]"};else if(ENVIRONMENT_IS_SHELL)"undefined"!=typeof read&&(Module.read=function(n){return read(n)}),Module.readBinary=function(n){var t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(n)):(assert("object"==typeof(t=read(n,"binary"))),t)},"undefined"!=typeof scriptArgs?Module.arguments=scriptArgs:"undefined"!=typeof arguments&&(Module.arguments=arguments),"function"==typeof quit&&(Module.quit=function(e){quit(e)});else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(ENVIRONMENT_IS_WEB){var currentScript=document.currentScript;0!==currentScript.src.indexOf("blob:")&&(scriptDirectory=currentScript.src.split("/").slice(0,-1).join("/")+"/")}else ENVIRONMENT_IS_WORKER&&(scriptDirectory=self.location.href.split("/").slice(0,-1).join("/")+"/");Module.read=function(n){var t=new XMLHttpRequest;return t.open("GET",n,!1),t.send(null),t.responseText},ENVIRONMENT_IS_WORKER&&(Module.readBinary=function(n){var t=new XMLHttpRequest;return t.open("GET",n,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),Module.readAsync=function(n,t,r){var i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType="arraybuffer",i.onload=function(){200==i.status||0==i.status&&i.response?t(i.response):r()},i.onerror=r,i.send(null)},Module.setWindowTitle=function(e){document.title=e}}var out=Module.print||("undefined"!=typeof console?void 0:"undefined"!=typeof print?print:null),err=Module.printErr||("undefined"!=typeof printErr?printErr:out);for(key in moduleOverrides)moduleOverrides.hasOwnProperty(key)&&(Module[key]=moduleOverrides[key]);moduleOverrides=void 0;var STACK_ALIGN=16;function staticAlloc(e){var n=STATICTOP;return STATICTOP=STATICTOP+e+15&-16,n}function dynamicAlloc(e){var n=HEAP32[DYNAMICTOP_PTR>>2],t=n+e+15&-16;if((HEAP32[DYNAMICTOP_PTR>>2]=t,t>=TOTAL_MEMORY)&&!enlargeMemory())return HEAP32[DYNAMICTOP_PTR>>2]=n,0;return n}function alignMemory(e,n){return n||(n=STACK_ALIGN),e=Math.ceil(e/n)*n}function getNativeTypeSize(e){switch(e){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:if("*"===e[e.length-1])return 4;if("i"===e[0]){var n=parseInt(e.substr(1));return assert(n%8==0),n/8}return 0}}function warnOnce(e){warnOnce.shown||(warnOnce.shown={}),warnOnce.shown[e]||(warnOnce.shown[e]=1,err(e))}var asm2wasmImports={"f64-rem":function(e,n){return e%n},debugger:function(){}},jsCallStartIndex=1,functionPointers=new Array(0),funcWrappers={};function dynCall(e,n,t){return t&&t.length?Module["dynCall_"+e].apply(null,[n].concat(t)):Module["dynCall_"+e].call(null,n)}var GLOBAL_BASE=1024,ABORT=0,EXITSTATUS=0;function assert(e,n){e||abort("Assertion failed: "+n)}function getCFunc(e){var n=Module["_"+e];return assert(n,"Cannot call unknown function "+e+", make sure it is exported"),n}var JSfuncs={stackSave:function(){stackSave()},stackRestore:function(){stackRestore()},arrayToC:function(e){var n=stackAlloc(e.length);return writeArrayToMemory(e,n),n},stringToC:function(e){var n=0;if(null!=e&&0!==e){var t=1+(e.length<<2);stringToUTF8(e,n=stackAlloc(t),t)}return n}},toC={string:JSfuncs.stringToC,array:JSfuncs.arrayToC};function ccall(e,n,t,r,i){var a=getCFunc(e),s=[],l=0;if(r)for(var u=0;u<r.length;u++){var c=toC[t[u]];c?(0===l&&(l=stackSave()),s[u]=c(r[u])):s[u]=r[u]}var _=a.apply(null,s);return _=function(e){return"string"===n?Pointer_stringify(e):"boolean"===n?Boolean(e):e}(_),0!==l&&stackRestore(l),_}function cwrap(e,n,t,r){var i=(t=t||[]).every(function(e){return"number"===e});return"string"!==n&&i&&!r?getCFunc(e):function(){return ccall(e,n,t,arguments,r)}}function setValue(e,n,t,r){switch("*"===(t=t||"i8").charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":HEAP8[e>>0]=n;break;case"i16":HEAP16[e>>1]=n;break;case"i32":HEAP32[e>>2]=n;break;case"i64":tempI64=[n>>>0,(tempDouble=n,+Math_abs(tempDouble)>=1?tempDouble>0?(0|Math_min(+Math_floor(tempDouble/4294967296),4294967295))>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[e>>2]=tempI64[0],HEAP32[e+4>>2]=tempI64[1];break;case"float":HEAPF32[e>>2]=n;break;case"double":HEAPF64[e>>3]=n;break;default:abort("invalid type for setValue: "+t)}}var ALLOC_STATIC=2,ALLOC_NONE=4;function getMemory(e){return staticSealed?runtimeInitialized?_malloc(e):dynamicAlloc(e):staticAlloc(e)}function Pointer_stringify(e,n){if(0===n||!e)return"";for(var r,t=0,i=0;t|=r=HEAPU8[e+i>>0],(0!=r||n)&&(i++,!n||i!=n););n||(n=i);var o="";if(t<128){for(var s,a=1024;n>0;)s=String.fromCharCode.apply(String,HEAPU8.subarray(e,e+Math.min(n,a))),o=o?o+s:s,e+=a,n-=a;return o}return UTF8ToString(e)}var UTF8Decoder="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function UTF8ArrayToString(e,n){for(var t=n;e[t];)++t;if(t-n>16&&e.subarray&&UTF8Decoder)return UTF8Decoder.decode(e.subarray(n,t));for(var r,i,o,a,s,u="";;){if(!(r=e[n++]))return u;if(128&r)if(i=63&e[n++],192!=(224&r))if(o=63&e[n++],224==(240&r)?r=(15&r)<<12|i<<6|o:(a=63&e[n++],240==(248&r)?r=(7&r)<<18|i<<12|o<<6|a:(s=63&e[n++],r=248==(252&r)?(3&r)<<24|i<<18|o<<12|a<<6|s:(1&r)<<30|i<<24|o<<18|a<<12|s<<6|63&e[n++])),r<65536)u+=String.fromCharCode(r);else{var c=r-65536;u+=String.fromCharCode(55296|c>>10,56320|1023&c)}else u+=String.fromCharCode((31&r)<<6|i);else u+=String.fromCharCode(r)}}function UTF8ToString(e){return UTF8ArrayToString(HEAPU8,e)}function stringToUTF8Array(e,n,t,r){if(!(r>0))return 0;for(var i=t,o=t+r-1,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++a)),s<=127){if(t>=o)break;n[t++]=s}else if(s<=2047){if(t+1>=o)break;n[t++]=192|s>>6,n[t++]=128|63&s}else if(s<=65535){if(t+2>=o)break;n[t++]=224|s>>12,n[t++]=128|s>>6&63,n[t++]=128|63&s}else if(s<=2097151){if(t+3>=o)break;n[t++]=240|s>>18,n[t++]=128|s>>12&63,n[t++]=128|s>>6&63,n[t++]=128|63&s}else if(s<=67108863){if(t+4>=o)break;n[t++]=248|s>>24,n[t++]=128|s>>18&63,n[t++]=128|s>>12&63,n[t++]=128|s>>6&63,n[t++]=128|63&s}else{if(t+5>=o)break;n[t++]=252|s>>30,n[t++]=128|s>>24&63,n[t++]=128|s>>18&63,n[t++]=128|s>>12&63,n[t++]=128|s>>6&63,n[t++]=128|63&s}}return n[t]=0,t-i}function stringToUTF8(e,n,t){return stringToUTF8Array(e,HEAPU8,n,t)}function lengthBytesUTF8(e){for(var n=0,t=0;t<e.length;++t){var r=e.charCodeAt(t);r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++t)),r<=127?++n:n+=r<=2047?2:r<=65535?3:r<=2097151?4:r<=67108863?5:6}return n}var UTF16Decoder="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0;function allocateUTF8(e){var n=lengthBytesUTF8(e)+1,t=_malloc(n);return t&&stringToUTF8Array(e,HEAP8,t,n),t}function demangle(e){return e}function demangleAll(e){return e.replace(/__Z[\w\d_]+/g,function(e){var n=demangle(e);return e===n?e:e+" ["+n+"]"})}function jsStackTrace(){var e=new Error;if(!e.stack){try{throw new Error(0)}catch(n){e=n}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}var buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64,STATIC_BASE,STATICTOP,staticSealed,STACK_BASE,STACKTOP,STACK_MAX,DYNAMIC_BASE,DYNAMICTOP_PTR,WASM_PAGE_SIZE=65536,ASMJS_PAGE_SIZE=16777216;function alignUp(e,n){return e%n>0&&(e+=n-e%n),e}function updateGlobalBuffer(e){Module.buffer=buffer=e}function updateGlobalBufferViews(){Module.HEAP8=HEAP8=new Int8Array(buffer),Module.HEAP16=HEAP16=new Int16Array(buffer),Module.HEAP32=HEAP32=new Int32Array(buffer),Module.HEAPU8=HEAPU8=new Uint8Array(buffer),Module.HEAPU16=HEAPU16=new Uint16Array(buffer),Module.HEAPU32=HEAPU32=new Uint32Array(buffer),Module.HEAPF32=HEAPF32=new Float32Array(buffer),Module.HEAPF64=HEAPF64=new Float64Array(buffer)}function abortOnCannotGrowMemory(){abort("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+TOTAL_MEMORY+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}function enlargeMemory(){abortOnCannotGrowMemory()}STATIC_BASE=STATICTOP=STACK_BASE=STACKTOP=STACK_MAX=DYNAMIC_BASE=DYNAMICTOP_PTR=0,staticSealed=!1;var TOTAL_STACK=Module.TOTAL_STACK||5242880,TOTAL_MEMORY=Module.TOTAL_MEMORY||104857600;function getTotalMemory(){return TOTAL_MEMORY}function callRuntimeCallbacks(e){for(;e.length>0;){var n=e.shift();if("function"!=typeof n){var t=n.func;"number"==typeof t?void 0===n.arg?Module.dynCall_v(t):Module.dynCall_vi(t,n.arg):t(void 0===n.arg?null:n.arg)}else n()}}TOTAL_MEMORY<TOTAL_STACK&&err("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+TOTAL_MEMORY+"! (TOTAL_STACK="+TOTAL_STACK+")"),Module.buffer?buffer=Module.buffer:("object"==typeof WebAssembly&&"function"==typeof WebAssembly.Memory?(Module.wasmMemory=new WebAssembly.Memory({initial:TOTAL_MEMORY/WASM_PAGE_SIZE,maximum:TOTAL_MEMORY/WASM_PAGE_SIZE}),buffer=Module.wasmMemory.buffer):buffer=new ArrayBuffer(TOTAL_MEMORY),Module.buffer=buffer),updateGlobalBufferViews();var __ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATEXIT__=[],__ATPOSTRUN__=[],runtimeInitialized=!1,runtimeExited=!1;function preRun(){if(Module.preRun)for("function"==typeof Module.preRun&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}function ensureInitRuntime(){runtimeInitialized||(runtimeInitialized=!0,callRuntimeCallbacks(__ATINIT__))}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){callRuntimeCallbacks(__ATEXIT__),runtimeExited=!0}function postRun(){if(Module.postRun)for("function"==typeof Module.postRun&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(e){__ATPRERUN__.unshift(e)}function addOnPostRun(e){__ATPOSTRUN__.unshift(e)}function writeArrayToMemory(e,n){HEAP8.set(e,n)}function writeAsciiToMemory(e,n,t){for(var r=0;r<e.length;++r)HEAP8[n++>>0]=e.charCodeAt(r);t||(HEAP8[n>>0]=0)}var Math_abs=Math.abs,Math_ceil=Math.ceil,Math_floor=Math.floor,Math_min=Math.min,runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function addRunDependency(e){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}function removeRunDependency(e){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),0==runDependencies&&(null!==runDependencyWatcher&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var n=dependenciesFulfilled;dependenciesFulfilled=null,n()}}Module.preloadedImages={},Module.preloadedAudios={};var dataURIPrefix="data:application/octet-stream;base64,";function isDataURI(e){return String.prototype.startsWith?e.startsWith(dataURIPrefix):0===e.indexOf(dataURIPrefix)}function integrateWasmJS(){var e="sharing.wast",n="sharing.wasm",t="sharing.temp.asm.js";isDataURI(e)||(e=locateFile(e)),isDataURI(n)||(n=locateFile(n)),isDataURI(t)||(t=locateFile(t));var i={global:null,env:null,asm2wasm:asm2wasmImports,parent:Module},o=null;function c(e,t,r){if("object"!=typeof WebAssembly)return err("no native wasm support detected"),!1;if(!(Module.wasmMemory instanceof WebAssembly.Memory))return err("no native wasm Memory in use"),!1;function s(e,n){(o=e.exports).memory&&function(e){var n=Module.buffer;e.byteLength<n.byteLength&&err("the new buffer in mergeMemory is smaller than the previous one. in native wasm, we should grow memory here");var t=new Int8Array(n);new Int8Array(e).set(t),updateGlobalBuffer(e),updateGlobalBufferViews()}(o.memory),Module.asm=o,Module.usingWasm=!0,removeRunDependency("wasm-instantiate")}if(t.memory=Module.wasmMemory,i.global={NaN:NaN,Infinity:1/0},i["global.Math"]=Math,i.env=t,addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(i,s)}catch(e){return err("Module.instantiateWasm callback failed with error: "+e),!1}function l(e){s(e.instance,e.module)}function c(e){return instantiateCachedURL(1,wasmUrl+"sharing.wasm",i),{}}return Module.wasmBinary||"function"!=typeof WebAssembly.instantiateStreaming||isDataURI(n)||"function"!=typeof fetch?c():WebAssembly.instantiateStreaming(fetch(n,{credentials:"same-origin"}),i).then(l).catch(function(e){err("wasm streaming compile failed: "+e),err("falling back to ArrayBuffer instantiation"),c()}),{}}Module.asmPreload=Module.asm;var _=Module.reallocBuffer;Module.reallocBuffer=function(e){return"asmjs"===d?_(e):function(e){e=alignUp(e,Module.usingWasm?WASM_PAGE_SIZE:ASMJS_PAGE_SIZE);var i=Module.buffer.byteLength;if(Module.usingWasm)try{return-1!==Module.wasmMemory.grow((e-i)/65536)?Module.buffer=Module.wasmMemory.buffer:null}catch(e){return null}}(e)};var d="";Module.asm=function(e,n,t){if(!(n=function(e){return e}(n)).table){var r=Module.wasmTableSize;void 0===r&&(r=1024);var i=Module.wasmMaxTableSize;"object"==typeof WebAssembly&&"function"==typeof WebAssembly.Table?n.table=void 0!==i?new WebAssembly.Table({initial:r,maximum:i,element:"anyfunc"}):new WebAssembly.Table({initial:r,element:"anyfunc"}):n.table=new Array(r),Module.wasmTable=n.table}var o;return n.memoryBase||(n.memoryBase=Module.STATIC_BASE),n.tableBase||(n.tableBase=0),assert(o=c(e,n),"no binaryen method succeeded."),o}}integrateWasmJS();var ASM_CONSTS=[function(e,n,t,r){frame_callback(e,n,t,r)}];function _emscripten_asm_const_iiiii(e,n,t,r,i){return ASM_CONSTS[e](n,t,r,i)}STATICTOP=(STATIC_BASE=GLOBAL_BASE)+13984,__ATINIT__.push({func:function(){___emscripten_environ_constructor()}});var STATIC_BUMP=13984;Module.STATIC_BASE=STATIC_BASE,Module.STATIC_BUMP=STATIC_BUMP;var tempDoublePtr=STATICTOP;STATICTOP+=16;var ENV={};function ___buildEnvironment(e){var r,i;___buildEnvironment.called?(i=HEAP32[e>>2],r=HEAP32[i>>2]):(___buildEnvironment.called=!0,ENV.USER=ENV.LOGNAME="web_user",ENV.PATH="/",ENV.PWD="/",ENV.HOME="/home/web_user",ENV.LANG="C.UTF-8",ENV._=Module.thisProgram,r=getMemory(1024),i=getMemory(256),HEAP32[i>>2]=r,HEAP32[e>>2]=i);var o=[],a=0;for(var s in ENV)if("string"==typeof ENV[s]){var l=s+"="+ENV[s];o.push(l),a+=l.length}if(a>1024)throw new Error("Environment size exceeded TOTAL_ENV_SIZE!");for(var c=0;c<o.length;c++){writeAsciiToMemory(l=o[c],r),HEAP32[i+4*c>>2]=r,r+=l.length+1}HEAP32[i+4*o.length>>2]=0}var SYSCALLS={varargs:0,get:function(e){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},getStr:function(){return Pointer_stringify(SYSCALLS.get())},get64:function(){var e=SYSCALLS.get(),n=SYSCALLS.get();return assert(e>=0?0===n:-1===n),e},getZero:function(){assert(0===SYSCALLS.get())}};function ___syscall140(e,n){SYSCALLS.varargs=n;try{var t=SYSCALLS.getStreamFromFD(),i=(SYSCALLS.get(),SYSCALLS.get()),o=SYSCALLS.get(),a=SYSCALLS.get(),s=i;return FS.llseek(t,s,a),HEAP32[o>>2]=t.position,t.getdents&&0===s&&0===a&&(t.getdents=null),0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function flush_NO_FILESYSTEM(){var e=Module._fflush;e&&e(0);var n=___syscall146.printChar;if(n){var t=___syscall146.buffers;t[1].length&&n(1,10),t[2].length&&n(2,10)}}function ___syscall146(e,n){SYSCALLS.varargs=n;try{var t=SYSCALLS.get(),r=SYSCALLS.get(),i=SYSCALLS.get(),o=0;___syscall146.buffers||(___syscall146.buffers=[null,[],[]],___syscall146.printChar=function(e,n){var t=___syscall146.buffers[e];assert(t),0===n||10===n?((1===e?out:err)(UTF8ArrayToString(t,0)),t.length=0):t.push(n)});for(var a=0;a<i;a++){for(var s=HEAP32[r+8*a>>2],l=HEAP32[r+(8*a+4)>>2],u=0;u<l;u++)___syscall146.printChar(t,HEAPU8[s+u]);o+=l}return o}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function ___syscall6(e,n){SYSCALLS.varargs=n;try{var t=SYSCALLS.getStreamFromFD();return FS.close(t),0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function __exit(e){exit(e)}function _exit(e){__exit(e)}function _getenv(e){return 0===e?0:(e=Pointer_stringify(e),ENV.hasOwnProperty(e)?(_getenv.ret&&_free(_getenv.ret),_getenv.ret=allocateUTF8(ENV[e]),_getenv.ret):0)}function _longjmp(e,n){throw Module.setThrew(e,n||1),"longjmp"}function _emscripten_memcpy_big(e,n,t){return HEAPU8.set(HEAPU8.subarray(n,n+t),e),e}var ERRNO_CODES={EPERM:1,ENOENT:2,ESRCH:3,EINTR:4,EIO:5,ENXIO:6,E2BIG:7,ENOEXEC:8,EBADF:9,ECHILD:10,EAGAIN:11,EWOULDBLOCK:11,ENOMEM:12,EACCES:13,EFAULT:14,ENOTBLK:15,EBUSY:16,EEXIST:17,EXDEV:18,ENODEV:19,ENOTDIR:20,EISDIR:21,EINVAL:22,ENFILE:23,EMFILE:24,ENOTTY:25,ETXTBSY:26,EFBIG:27,ENOSPC:28,ESPIPE:29,EROFS:30,EMLINK:31,EPIPE:32,EDOM:33,ERANGE:34,ENOMSG:42,EIDRM:43,ECHRNG:44,EL2NSYNC:45,EL3HLT:46,EL3RST:47,ELNRNG:48,EUNATCH:49,ENOCSI:50,EL2HLT:51,EDEADLK:35,ENOLCK:37,EBADE:52,EBADR:53,EXFULL:54,ENOANO:55,EBADRQC:56,EBADSLT:57,EDEADLOCK:35,EBFONT:59,ENOSTR:60,ENODATA:61,ETIME:62,ENOSR:63,ENONET:64,ENOPKG:65,EREMOTE:66,ENOLINK:67,EADV:68,ESRMNT:69,ECOMM:70,EPROTO:71,EMULTIHOP:72,EDOTDOT:73,EBADMSG:74,ENOTUNIQ:76,EBADFD:77,EREMCHG:78,ELIBACC:79,ELIBBAD:80,ELIBSCN:81,ELIBMAX:82,ELIBEXEC:83,ENOSYS:38,ENOTEMPTY:39,ENAMETOOLONG:36,ELOOP:40,EOPNOTSUPP:95,EPFNOSUPPORT:96,ECONNRESET:104,ENOBUFS:105,EAFNOSUPPORT:97,EPROTOTYPE:91,ENOTSOCK:88,ENOPROTOOPT:92,ESHUTDOWN:108,ECONNREFUSED:111,EADDRINUSE:98,ECONNABORTED:103,ENETUNREACH:101,ENETDOWN:100,ETIMEDOUT:110,EHOSTDOWN:112,EHOSTUNREACH:113,EINPROGRESS:115,EALREADY:114,EDESTADDRREQ:89,EMSGSIZE:90,EPROTONOSUPPORT:93,ESOCKTNOSUPPORT:94,EADDRNOTAVAIL:99,ENETRESET:102,EISCONN:106,ENOTCONN:107,ETOOMANYREFS:109,EUSERS:87,EDQUOT:122,ESTALE:116,ENOTSUP:95,ENOMEDIUM:123,EILSEQ:84,EOVERFLOW:75,ECANCELED:125,ENOTRECOVERABLE:131,EOWNERDEAD:130,ESTRPIPE:86};function ___setErrNo(e){return Module.___errno_location&&(HEAP32[Module.___errno_location()>>2]=e),e}function _putenv(e){if(0===e)return ___setErrNo(ERRNO_CODES.EINVAL),-1;var n=(e=Pointer_stringify(e)).indexOf("=");if(""===e||-1===e.indexOf("="))return ___setErrNo(ERRNO_CODES.EINVAL),-1;var t=e.slice(0,n),r=e.slice(n+1);return t in ENV&&ENV[t]===r||(ENV[t]=r,___buildEnvironment(__get_environ())),0}DYNAMICTOP_PTR=staticAlloc(4),DYNAMIC_BASE=alignMemory(STACK_MAX=(STACK_BASE=STACKTOP=alignMemory(STATICTOP))+TOTAL_STACK),HEAP32[DYNAMICTOP_PTR>>2]=DYNAMIC_BASE,staticSealed=!0;var ASSERTIONS=!1;function invoke_ii(e,n){var t=stackSave();try{return Module.dynCall_ii(e,n)}catch(e){if(stackRestore(t),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_iii(e,n,t){var r=stackSave();try{return Module.dynCall_iii(e,n,t)}catch(e){if(stackRestore(r),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_iiii(e,n,t,r){var i=stackSave();try{return Module.dynCall_iiii(e,n,t,r)}catch(e){if(stackRestore(i),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_iiiii(e,n,t,r,i){var o=stackSave();try{return Module.dynCall_iiiii(e,n,t,r,i)}catch(e){if(stackRestore(o),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_iiiiii(e,n,t,r,i,o){var a=stackSave();try{return Module.dynCall_iiiiii(e,n,t,r,i,o)}catch(e){if(stackRestore(a),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_iiiiiii(e,n,t,r,i,o,a){var s=stackSave();try{return Module.dynCall_iiiiiii(e,n,t,r,i,o,a)}catch(e){if(stackRestore(s),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_v(e){var n=stackSave();try{Module.dynCall_v(e)}catch(e){if(stackRestore(n),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_vi(e,n){var t=stackSave();try{Module.dynCall_vi(e,n)}catch(e){if(stackRestore(t),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_vii(e,n,t){var r=stackSave();try{Module.dynCall_vii(e,n,t)}catch(e){if(stackRestore(r),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_viii(e,n,t,r){var i=stackSave();try{Module.dynCall_viii(e,n,t,r)}catch(e){if(stackRestore(i),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_viiii(e,n,t,r,i){var o=stackSave();try{Module.dynCall_viiii(e,n,t,r,i)}catch(e){if(stackRestore(o),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_viiiii(e,n,t,r,i,o){var a=stackSave();try{Module.dynCall_viiiii(e,n,t,r,i,o)}catch(e){if(stackRestore(a),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_viiiiiii(e,n,t,r,i,o,a,s){var l=stackSave();try{Module.dynCall_viiiiiii(e,n,t,r,i,o,a,s)}catch(e){if(stackRestore(l),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}Module.wasmTableSize=241,Module.wasmMaxTableSize=241,Module.asmGlobalArg={},Module.asmLibraryArg={abort:abort,assert:assert,enlargeMemory:enlargeMemory,getTotalMemory:getTotalMemory,abortOnCannotGrowMemory:abortOnCannotGrowMemory,invoke_ii:invoke_ii,invoke_iii:invoke_iii,invoke_iiii:invoke_iiii,invoke_iiiii:invoke_iiiii,invoke_iiiiii:invoke_iiiiii,invoke_iiiiiii:invoke_iiiiiii,invoke_v:invoke_v,invoke_vi:invoke_vi,invoke_vii:invoke_vii,invoke_viii:invoke_viii,invoke_viiii:invoke_viiii,invoke_viiiii:invoke_viiiii,invoke_viiiiiii:invoke_viiiiiii,___buildEnvironment:___buildEnvironment,___setErrNo:___setErrNo,___syscall140:___syscall140,___syscall146:___syscall146,___syscall6:___syscall6,__exit:__exit,_emscripten_asm_const_iiiii:_emscripten_asm_const_iiiii,_emscripten_memcpy_big:_emscripten_memcpy_big,_exit:_exit,_getenv:_getenv,_longjmp:_longjmp,_putenv:_putenv,flush_NO_FILESYSTEM:flush_NO_FILESYSTEM,DYNAMICTOP_PTR:DYNAMICTOP_PTR,tempDoublePtr:tempDoublePtr,ABORT:ABORT,STACKTOP:STACKTOP,STACK_MAX:STACK_MAX};var asm=Module.asm(Module.asmGlobalArg,Module.asmLibraryArg,buffer);Module.asm=asm;var initialStackTop,___emscripten_environ_constructor=Module.___emscripten_environ_constructor=function(){return Module.asm.___emscripten_environ_constructor.apply(null,arguments)},___errno_location=Module.___errno_location=function(){return Module.asm.___errno_location.apply(null,arguments)},__get_environ=Module.__get_environ=function(){return Module.asm.__get_environ.apply(null,arguments)},__sharing_decompress=Module.__sharing_decompress=function(){return Module.asm.__sharing_decompress.apply(null,arguments)},__sharing_init=Module.__sharing_init=function(){return Module.asm.__sharing_init.apply(null,arguments)},__sharing_uninit=Module.__sharing_uninit=function(){return Module.asm.__sharing_uninit.apply(null,arguments)},_free=Module._free=function(){return Module.asm._free.apply(null,arguments)},_llvm_bswap_i32=Module._llvm_bswap_i32=function(){return Module.asm._llvm_bswap_i32.apply(null,arguments)},_malloc=Module._malloc=function(){return Module.asm._malloc.apply(null,arguments)},_memcpy=Module._memcpy=function(){return Module.asm._memcpy.apply(null,arguments)},_memset=Module._memset=function(){return Module.asm._memset.apply(null,arguments)},_realloc=Module._realloc=function(){return Module.asm._realloc.apply(null,arguments)},_saveSetjmp=Module._saveSetjmp=function(){return Module.asm._saveSetjmp.apply(null,arguments)},_sbrk=Module._sbrk=function(){return Module.asm._sbrk.apply(null,arguments)},_testSetjmp=Module._testSetjmp=function(){return Module.asm._testSetjmp.apply(null,arguments)},establishStackSpace=Module.establishStackSpace=function(){return Module.asm.establishStackSpace.apply(null,arguments)},getTempRet0=Module.getTempRet0=function(){return Module.asm.getTempRet0.apply(null,arguments)},runPostSets=Module.runPostSets=function(){return Module.asm.runPostSets.apply(null,arguments)},setTempRet0=Module.setTempRet0=function(){return Module.asm.setTempRet0.apply(null,arguments)},setThrew=Module.setThrew=function(){return Module.asm.setThrew.apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return Module.asm.stackAlloc.apply(null,arguments)},stackRestore=Module.stackRestore=function(){return Module.asm.stackRestore.apply(null,arguments)},stackSave=Module.stackSave=function(){return Module.asm.stackSave.apply(null,arguments)},dynCall_ii=Module.dynCall_ii=function(){return Module.asm.dynCall_ii.apply(null,arguments)},dynCall_iii=Module.dynCall_iii=function(){return Module.asm.dynCall_iii.apply(null,arguments)},dynCall_iiii=Module.dynCall_iiii=function(){return Module.asm.dynCall_iiii.apply(null,arguments)},dynCall_iiiii=Module.dynCall_iiiii=function(){return Module.asm.dynCall_iiiii.apply(null,arguments)},dynCall_iiiiii=Module.dynCall_iiiiii=function(){return Module.asm.dynCall_iiiiii.apply(null,arguments)},dynCall_iiiiiii=Module.dynCall_iiiiiii=function(){return Module.asm.dynCall_iiiiiii.apply(null,arguments)},dynCall_v=Module.dynCall_v=function(){return Module.asm.dynCall_v.apply(null,arguments)},dynCall_vi=Module.dynCall_vi=function(){return Module.asm.dynCall_vi.apply(null,arguments)},dynCall_vii=Module.dynCall_vii=function(){return Module.asm.dynCall_vii.apply(null,arguments)},dynCall_viii=Module.dynCall_viii=function(){return Module.asm.dynCall_viii.apply(null,arguments)},dynCall_viiii=Module.dynCall_viiii=function(){return Module.asm.dynCall_viiii.apply(null,arguments)},dynCall_viiiii=Module.dynCall_viiiii=function(){return Module.asm.dynCall_viiiii.apply(null,arguments)},dynCall_viiiiiii=Module.dynCall_viiiiiii=function(){return Module.asm.dynCall_viiiiiii.apply(null,arguments)};function ExitStatus(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function run(e){function n(){Module.calledRun||(Module.calledRun=!0,ABORT||(ensureInitRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),postRun()))}e=e||Module.arguments,runDependencies>0||(preRun(),runDependencies>0||Module.calledRun||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),n()},1)):n()))}function exit(e,n){n&&Module.noExitRuntime&&0===e||(Module.noExitRuntime||(ABORT=!0,EXITSTATUS=e,STACKTOP=initialStackTop,exitRuntime(),Module.onExit&&Module.onExit(e)),Module.quit(e,new ExitStatus(e)))}function abort(e){throw Module.onAbort&&Module.onAbort(e),void 0!==e?(out(e),err(e),e=JSON.stringify(e)):e="",ABORT=!0,EXITSTATUS=1,"abort("+e+"). Build with -s ASSERTIONS=1 for more info."}if(Module.asm=asm,Module.cwrap=cwrap,ExitStatus.prototype=new Error,ExitStatus.prototype.constructor=ExitStatus,dependenciesFulfilled=function e(){Module.calledRun||run(),Module.calledRun||(dependenciesFulfilled=e)},Module.run=run,Module.abort=abort,Module.preInit)for("function"==typeof Module.preInit&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();Module.noExitRuntime=!0,run();var sharing_init=Module.cwrap("_sharing_init","number",null),sharing_decode=Module.cwrap("_sharing_decompress","number",["number","array","number"]),sharing_uninit=Module.cwrap("_sharing_uninit","number",["number"]),headerMap=new Map,stopDrawImage=!1,sharing_handle=null,decode_jpeg_data=null,decode_jpeg_width=null,decode_jpeg_height=null,imagBMap=new Map,imageInterval=null;function Channel_Agent(){this.socket=null,this.onopen=null,this.onmessage=null,this.onerror=null,this.onclose=null,this.websocketaddress=null,this.startwebsocketreconnecttime=null,this.reconnect=null,this.activeclosewebsocket=!1,this.init=function(e,n,t,r,i){this.websocketaddress=e,this.onopen=n,this.onmessage=t,this.onerror=r,this.onclose=i},this.connect=function(e,n,t,r,i){var o=this;o.init(e,n,t,r,i),o.socket=new WebSocket(o.websocketaddress),o.socket.binaryType="arraybuffer",o.reconnect=function(){o.startwebsocketreconnecttime=null,o.socket=new WebSocket(this.websocketaddress),o.socket.binaryType="arraybuffer",o.socket.onopen=function(e){o.startwebsocketreconnecttime=(new Date).getTime()/1e3,o.onopen(e)},o.socket.onmessage=function(e){o.onmessage(e)},o.socket.onerror=function(e){JsSocket_Log("in function onerror"),null===o.startwebsocketreconnecttime?JsSocket_Log("In Reconnect Context, Reconnect is unnecessary"):(new Date).getTime()/1e3-o.startwebsocketreconnecttime>30?(JsSocket_Log(">>>30s"),setTimeout(function(){o.reconnect()},1e4)):(postMessage({status:Sharing_Dec_WebSocket_FAILED}),JsSocket_Log("NetWork is Bad, Don't to reconnect the serer!"))},o.socket.onclose=function(e){JsSocket_Log("in function onclose��"+o.startwebsocketreconnecttime),null===o.startwebsocketreconnecttime?JsSocket_Log("In Reconnect Context, Reconnect is unnecessary"):(new Date).getTime()/1e3-o.startwebsocketreconnecttime>30?(JsSocket_Log(">>>30s"),setTimeout(function(){o.reconnect()},1e4)):(postMessage({status:Sharing_Dec_WebSocket_FAILED}),JsSocket_Log("NetWork is Bad, Don't to reconnect the serer!"))}},o.socket.onopen=function(e){o.startwebsocketreconnecttime=(new Date).getTime()/1e3,o.onopen(e)},o.socket.onmessage=function(e){o.onmessage(e)},o.socket.onerror=function(e){JsSocket_Log("in function onerror"),o.activeclosewebsocket||(null===o.startwebsocketreconnecttime?(JsSocket_Log("Not in Reconnect Context, Reconnect is unnecessary"),postMessage({status:Sharing_Dec_WebSocket_FAILED})):(new Date).getTime()/1e3-o.startwebsocketreconnecttime>30?(JsSocket_Log(">>>30s"),setTimeout(function(){o.reconnect()},1e4)):(postMessage({status:Sharing_Dec_WebSocket_FAILED}),JsSocket_Log("NetWork is Bad, Don't to reconnect the serer!")))},this.socket.onclose=function(e){JsSocket_Log("in function onclose��"+o.startwebsocketreconnecttime),o.activeclosewebsocket||(null===o.startwebsocketreconnecttime?(JsSocket_Log("Not in Reconnect Context, Reconnect is unnecessary"),postMessage({status:Sharing_Dec_WebSocket_FAILED})):(new Date).getTime()/1e3-o.startwebsocketreconnecttime>30?(JsSocket_Log(">>>30s"),setTimeout(function(){o.reconnect()},1e4)):(postMessage({status:Sharing_Dec_WebSocket_FAILED}),JsSocket_Log("NetWork is Bad, Don't to reconnect the serer!")))}},this.send=function(e){this.socket.send(e)},this.close=function(){this.activeclosewebsocket=!0,this.socket.close()}}function JsSocket_Log(e){}function Open_Sharing_WebSocket_Connect(e,n,t,r,i){JsSocket_Log("Open_Sharing_WebSocket_Connect");var o=new Channel_Agent;return o.connect(e,n,t,r,i),o}function sharing_websocket_on_open(){postMessage({status:Sharing_Dec_WebSocket_OK})}function sharing_websocket_on_message(e){sharing_handle&&Sharing_Decode(e.data)}function sharing_websocket_on_close(e){JsMediaSDK_Log("sharing_websocket_on_close")}function sharing_websocket_on_error(e){JsMediaSDK_Log("sharing_websocket_on_error")}function JsMediaSDK_Log(e){}function frame_callback(e,n,t,r){var i=Module.HEAP8.subarray(e+0,e+n);decode_jpeg_data=new Uint8Array(i),decode_jpeg_width=t,decode_jpeg_height=r}function Sharing_Decode(e){if(e instanceof ArrayBuffer){const c=(e=new Uint8Array(e)).subarray(0,24),_=c[0];let f;if(3!==_&&5!==_||(f={x:parseInt(c[8])+256*parseInt(c[9])+256*parseInt(c[10])*256+256*parseInt(c[11])*256*256,y:parseInt(c[12])+256*parseInt(c[13])+256*parseInt(c[14])*256+256*parseInt(c[15])*256*256,width:parseInt(c[16])+256*parseInt(c[17])+256*parseInt(c[18])*256+256*parseInt(c[19])*256*256,height:parseInt(c[20])+256*parseInt(c[21])+256*parseInt(c[22])*256+256*parseInt(c[23])*256*256}),"object"==typeof e)if(4===_)postMessage({status:Sharing_Data,data:{data:e.subarray(24),type:"cursorImage"}});else if(5===_)postMessage({status:Sharing_Data,data:{data:f,type:"cursorImagePos"}});else if(3===_){var n=e;let c=e[2],_=e[3];var t=n[1],r=n.subarray(24);if(t>128)return void headerMap.set(t-128,r);if(t>0&&t<128){var i=headerMap.get(t);if(!i)return;var o=new Uint8Array(i.length+r.length);o.set(i),o.set(r,i.length),r=o}var a=f.x,s=f.y;try{if(sharing_handle){sharing_decode(sharing_handle,r,r.length);var l={};l.buffer=decode_jpeg_data,l.width=decode_jpeg_width,l.height=decode_jpeg_height;var u={type:"image",image:l,posx:a,posy:s,Block:c+256*_};imagBMap.set(c+256*_,{status:Sharing_Data,data:u})}}catch(e){}}}else try{var c=JSON.parse(e);c&&20226==c.evt&&postMessage({status:Sharing_Data,data:{type:"sharingPara",data:c}})}catch(e){}}self.addEventListener("message",function(e){var n=e.data;switch(n.command){case"startMedia":try{(sharing_handle=sharing_init())?(postMessage({status:16}),Open_Sharing_WebSocket_Connect(n.websocket_ip_address,sharing_websocket_on_open,sharing_websocket_on_message,sharing_websocket_on_error,sharing_websocket_on_close)):postMessage({status:-14})}catch(e){}break;case"closeMedia":stopDrawImage=!0,sharing_handle&&sharing_uninit(sharing_handle),sharing_handle=null,close();break;case"updateSharingStatus":n.status?imageInterval=setInterval(function(){imagBMap.forEach(function(e,n){postMessage(e,[e.data.image.buffer.buffer]),imagBMap.delete(n)})},1e3):(clearInterval(imageInterval),headerMap.clear(),imagBMap.clear())}});